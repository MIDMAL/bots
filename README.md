# Telegram бот с сохранением данных пользователей в PostgreSQL

Этот бот отвечает "Привет" при любом обращении к нему и сохраняет информацию о пользователях в базу данных PostgreSQL.

## Установка

1. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

2. Убедитесь, что у вас запущен PostgreSQL сервер с базой данных connectbot2 и учетными данными:
   - Хост: localhost
   - Порт: 5432
   - Имя базы данных: connectbot2
   - Пользователь: postgres
   - Пароль: j5gret52

## Запуск

Запустите бота командой:
```bash
python bot.py
```

## Использование

1. Найдите вашего бота в Telegram
2. Напишите ему любое сообщение
3. Бот ответит "Привет" и сохранит информацию о вас в базу данных

## Структура базы данных

При первом запуске бот автоматически создаст таблицу `users` со следующими полями:
- id: уникальный идентификатор
- telegram_id: ID пользователя в Telegram
- chat_id: ID чата, в котором пользователь взаимодействует с ботом
- username: имя пользователя в Telegram (если есть)
- first_name: имя пользователя
- last_name: фамилия пользователя (если есть)
- language_code: код языка пользователя
- created_at: дата и время создания записи
- updated_at: дата и время последнего обновления записи

## Тестирование

Для проверки работы бота и сохранения данных в базу можно использовать вспомогательные скрипты:

1. `test_db.py` - проверка подключения к базе данных
2. `update_table.py` - добавление поля chat_id в существующую таблицу (если необходимо)
3. `view_users.py` - просмотр данных о пользователях в базе

Пример использования:
```bash
python test_db.py
python update_table.py
python view_users.py
```